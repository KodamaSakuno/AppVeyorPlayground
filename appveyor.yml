version: '{build}'
image: Visual Studio 2017
configuration: Release
init:
- ps: |
    Write-Host Initializing...
    Write-Host $env:APPVEYOR_BUILD_FOLDER
    git config --global core.autocrlf true
install:
- cmd: git submodule update -q --init
before_build:
- ps: |
    Copy-Item Execute-PreBuildEvent.ps1 Sakuno.UserInterface\scripts\ -Force
    nuget restore Sakuno.UserInterface\Sakuno.UserInterface.sln
build:
  project: Sakuno.UserInterface\Sakuno.UserInterface.sln
  verbosity: minimal
after_test:
- ps: Move-Item Sakuno.UserInterface\artifacts\$($env:configuration)\*.nupkg .
artifacts:
- path: '*.nupkg'
  name: NuGet

on_finish:
- ps: Write-Host Finished.
