version: '{build}'
image: Visual Studio 2017
init:
- ps: |
    Write-Host Initializing
    git config --global core.autocrlf true
install:
- cmd: git submodule update -q --init
before_build:
- ps: |
    Copy-Item Execute-PreBuildEvent.ps1 Sakuno.UserInterface\scripts\ -Force
    Set-Location Sakuno.UserInterface
    nuget restore
build:
  project: Sakuno.UserInterface\Sakuno.UserInterface.sln
  verbosity: minimal
after_test:
- ps: Move-Item artifacts\$($env:configuration)\*.nupkg .
artifacts:
- path: '*.nupkg'
  name: NuGet

on_finish:
- ps: Write-Host Finished.
